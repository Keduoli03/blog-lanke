---
title: Redis
description: 摘要
categories:
  - 大杂烩
tags:
  - 大杂烩
column:
cover:
draft: true
unlisted: true
pinned: false
aiSummary: true
outdate: true
date: 2026-02-26 11:52
updated: 2026-02-26 14:24
---

## Redis的持久化策略。

Redis提供两种持久化策略：RDB和AOF。RDB通过定时生成数据快照实现，适合快速恢复但可能丢失部分数据；AOF记录所有写操作命令，数据完整性更高但文件较大。此外，Redis支持混合持久化模式（AOF+RDB），结合两者优势实现高效备份与恢复。

---

## Redis 如何和数据库保持一致

共有四种同步策略：

1. 先更新数据库再更新缓存。缺点：多线程并发下会存在数据库中数据和缓存不一致的的现象。可能出现
2. 先更新缓存在更新数据库，优点就是每次数据变化都可以及时的更新缓存，但是消耗很大，影响服务器性能。
3. 先删除缓存在更新数据库。缺点：也会导致缓存和数据库数据不一致。
4. 先更新数据库再删除缓存。缺点仍然可能存在缓存和数据库中数据不一致的情况，但是，我们可以使用重试机制进行操作。所以说这是效果最好的解决方案。

## 缓存穿透

缓存命中是指请求直接从缓存中获取数据；  
缓存击穿是某个热点 key 过期，大量请求打到数据库；  
缓存雪崩是大量 key 同时过期，导致数据库压力骤增；  
缓存穿透是查询不存在的数据，缓存和数据库都没有，导致每次都访问数据库。
